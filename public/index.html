<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Ù„Ø¹Ø¨Ø© ÙƒÙˆÙƒÙˆ ÙˆØ£ØµØ¯Ù‚Ø§Ø¡ Ø§Ù„Ø­Ø±ÙˆÙ - Ù„Ø¹Ø¨Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù…Ù…ØªØ¹Ø© Ù„Ù„Ø£Ø·ÙØ§Ù„ Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø·Ø±ÙŠÙ‚Ø© ØªÙØ§Ø¹Ù„ÙŠØ©">
  <meta name="keywords" content="ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©, Ø£Ù„Ø¹Ø§Ø¨ ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù„Ù„Ø£Ø·ÙØ§Ù„, ÙƒÙˆÙƒÙˆ, Ø­Ø±ÙˆÙ Ø¹Ø±Ø¨ÙŠØ©, ØªØ¹Ù„Ù… Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©">
  <meta name="author" content="ÙØ±ÙŠÙ‚ ÙƒÙˆÙƒÙˆ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ">
  
  <!-- Open Graph Meta Tags Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ© -->
  <meta property="og:title" content="ÙƒÙˆÙƒÙˆ ÙˆØ£ØµØ¯Ù‚Ø§Ø¡ Ø§Ù„Ø­Ø±ÙˆÙ - Ù„Ø¹Ø¨Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù„Ù„Ø£Ø·ÙØ§Ù„">
  <meta property="og:description" content="Ù„Ø¹Ø¨Ø© Ù…Ù…ØªØ¹Ø© ÙˆØªÙØ§Ø¹Ù„ÙŠØ© Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø£Ø·ÙØ§Ù„ Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ù…Ø¹ ÙƒÙˆÙƒÙˆ Ø§Ù„ÙƒÙˆØ§Ù„Ø§ Ø§Ù„ÙˆØ¯ÙˆØ¯">
  <meta property="og:image" content="https://images.pexels.com/photos/1148998/pexels-photo-1148998.jpeg">
  <meta property="og:url" content="https://koko-letters.netlify.app">
  <meta property="og:type" content="website">
  
  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="ÙƒÙˆÙƒÙˆ ÙˆØ£ØµØ¯Ù‚Ø§Ø¡ Ø§Ù„Ø­Ø±ÙˆÙ">
  <meta name="twitter:description" content="Ù„Ø¹Ø¨Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù…Ù…ØªØ¹Ø© Ù„Ù„Ø£Ø·ÙØ§Ù„ Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©">
  <meta name="twitter:image" content="https://images.pexels.com/photos/1148998/pexels-photo-1148998.jpeg">
  
  <title>ÙƒÙˆÙƒÙˆ ÙˆØ£ØµØ¯Ù‚Ø§Ø¡ Ø§Ù„Ø­Ø±ÙˆÙ | Ù„Ø¹Ø¨Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù„Ù„Ø£Ø·ÙØ§Ù„</title>
  
  <!-- Favicon -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ¨</text></svg>">
  
  <!-- Google Fonts Ù„Ù„Ø®Ø·ÙˆØ· Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Custom Styles -->
  <style>
    .font-arabic { font-family: 'Cairo', sans-serif; }
    .font-arabic-classic { font-family: 'Amiri', serif; }
    .arabic-text { font-family: 'Amiri', serif; font-weight: 700; }
    
    .letter-card {
      transition: all 0.3s ease;
      background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);
      border: 3px solid;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    
    .letter-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }
    
    .letter-card.dragging {
      transform: rotate(5deg) scale(1.05);
      opacity: 0.8;
    }
    
    .drop-zone {
      transition: all 0.3s ease;
      background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
      border: 3px dashed #dee2e6;
      min-height: 180px;
    }
    
    .drop-zone.drag-over {
      border-color: #28a745;
      background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
      transform: scale(1.02);
    }
    
    .drop-zone.correct {
      background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
      border-color: #28a745;
      border-style: solid;
    }
    
    .celebration-effect {
      animation: celebration 0.6s ease-in-out;
    }
    
    @keyframes celebration {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }
    
    .game-background {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }
    
    .intro-background {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    }
    
    .modal-backdrop {
      backdrop-filter: blur(5px);
    }
    
    .bounce-in {
      animation: bounceIn 0.6s ease-out;
    }
    
    @keyframes bounceIn {
      0% { transform: scale(0.3); opacity: 0; }
      50% { transform: scale(1.05); }
      70% { transform: scale(0.9); }
      100% { transform: scale(1); opacity: 1; }
    }
  </style>
</head>
<body class="game-background">

  <!-- ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© -->
  <div id="intro" class="fixed inset-0 intro-background flex flex-col items-center justify-center z-50">
    <div class="text-center p-8 bg-white bg-opacity-90 rounded-3xl shadow-2xl max-w-md mx-4">
      <!-- Ø´Ø¹Ø§Ø± ÙƒÙˆÙƒÙˆ -->
      <div class="text-8xl mb-4">ğŸ¨</div>
      <h1 class="text-4xl font-bold text-gray-800 mb-2 font-arabic">ÙƒÙˆÙƒÙˆ ÙˆØ£ØµØ¯Ù‚Ø§Ø¡ Ø§Ù„Ø­Ø±ÙˆÙ</h1>
      <p class="text-lg text-gray-600 mb-6 font-arabic">ØªØ¹Ù„Ù… Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø·Ø±ÙŠÙ‚Ø© Ù…Ù…ØªØ¹Ø©!</p>
      
      <button onclick="startGame()" class="bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 text-white font-bold py-4 px-8 rounded-full text-xl shadow-lg transform hover:scale-105 transition-all duration-300 font-arabic">
        ğŸ® Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨
      </button>
      
      <div class="mt-6 flex justify-center space-x-4">
        <button onclick="shareGame()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-arabic">
          ğŸ“¤ Ø´Ø§Ø±Ùƒ Ø§Ù„Ù„Ø¹Ø¨Ø©
        </button>
      </div>
    </div>
  </div>

  <!-- Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„Ø¹Ø¨Ø© -->
  <div id="gameContainer" class="hidden min-h-screen p-4">
    
    <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù„ÙˆÙŠ -->
    <div class="bg-white bg-opacity-90 rounded-2xl p-4 mb-6 shadow-lg">
      <div class="flex justify-between items-center flex-wrap gap-4">
        <div class="flex items-center space-x-4">
          <div class="text-3xl">ğŸ¨</div>
          <div>
            <h2 id="levelTitle" class="text-xl font-bold text-gray-800 font-arabic">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£ÙˆÙ„</h2>
            <p id="progressDisplay" class="text-sm text-gray-600 font-arabic">Ø§Ù„ØªÙ‚Ø¯Ù…: 0 Ù…Ù† 4</p>
          </div>
        </div>
        
        <div class="flex items-center space-x-6">
          <div class="text-center">
            <div class="text-sm text-gray-600 font-arabic">Ø§Ù„Ù†Ù‚Ø§Ø·</div>
            <div id="scoreDisplay" class="text-2xl font-bold text-blue-600">0</div>
          </div>
          <div class="text-center">
            <div class="text-sm text-gray-600 font-arabic">Ø§Ù„Ø£Ø±ÙˆØ§Ø­</div>
            <div id="livesDisplay" class="text-xl">â¤ï¸â¤ï¸â¤ï¸</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„ -->
    <div class="mb-6">
      <div class="bg-white bg-opacity-90 rounded-2xl p-4 shadow-lg">
        <div class="flex justify-center items-center flex-wrap gap-4">
          <button onclick="goToMainMenu()" class="bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg font-arabic flex items-center gap-2">
            ğŸ  Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
          </button>
          
          <div class="flex gap-2">
            <button onclick="goToLevel(0)" class="level-btn bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-arabic">
              Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 1
            </button>
            <button onclick="goToLevel(1)" class="level-btn bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-arabic">
              Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 2
            </button>
            <button onclick="goToLevel(2)" class="level-btn bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg font-arabic">
              Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 3
            </button>
          </div>
          
          <button onclick="restartGame()" class="bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg font-arabic flex items-center gap-2">
            ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„
          </button>
        </div>
      </div>
    </div>

    <!-- Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ø¥Ø³Ù‚Ø§Ø· -->
    <div class="mb-8">
      <h3 class="text-2xl font-bold text-white text-center mb-4 font-arabic">ğŸ¯ Ø§Ø³Ø­Ø¨ Ø§Ù„Ø­Ø±ÙˆÙ Ø¥Ù„Ù‰ Ø£Ù…Ø§ÙƒÙ†Ù‡Ø§ Ø§Ù„ØµØ­ÙŠØ­Ø©</h3>
      <div id="dropzonesContainer" class="grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto">
        <!-- Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ø¥Ø³Ù‚Ø§Ø· Ù‡Ù†Ø§ -->
      </div>
    </div>

    <!-- Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø³Ø­Ø¨ -->
    <div>
      <h3 class="text-2xl font-bold text-white text-center mb-4 font-arabic">ğŸ“ Ø§Ù„Ø­Ø±ÙˆÙ</h3>
      <div id="draggablesContainer" class="grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto">
        <!-- Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø³Ø­Ø¨ Ù‡Ù†Ø§ -->
      </div>
    </div>

    <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… -->
    <div class="fixed bottom-4 left-1/2 transform -translate-x-1/2 flex gap-4 z-40">
      <button onclick="shareGame()" class="bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-full shadow-lg font-arabic">
        ğŸ“¤ Ù…Ø´Ø§Ø±ÙƒØ©
      </button>
    </div>
  </div>

  <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ø§Ø­ØªÙØ§Ù„ -->
  <div id="celebrationModal" class="fixed inset-0 bg-black bg-opacity-70 modal-backdrop flex items-center justify-center hidden z-50">
    <div class="bg-white rounded-3xl shadow-2xl p-8 max-w-md mx-4 text-center bounce-in">
      <div class="text-6xl mb-4">ğŸ‰</div>
      <h2 id="celebrationTitle" class="text-3xl font-bold text-gray-800 mb-4 font-arabic">Ø£Ø­Ø³Ù†Øª!</h2>
      <p id="celebrationMessage" class="text-lg text-gray-600 mb-6 font-arabic">Ù„Ù‚Ø¯ Ø£ÙƒÙ…Ù„Øª Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø¨Ù†Ø¬Ø§Ø­!</p>
      
      <div class="mb-6">
        <div class="text-sm text-gray-600 font-arabic mb-2">Ù†Ù‚Ø§Ø·Ùƒ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</div>
        <div id="finalScore" class="text-4xl font-bold text-blue-600">0</div>
      </div>
      
      <div id="starsDisplay" class="mb-6 flex justify-center space-x-1">
        <!-- Ø§Ù„Ù†Ø¬ÙˆÙ… Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
      </div>
      
      <div class="flex flex-col space-y-3">
        <button id="nextLevelBtn" onclick="nextLevel()" class="bg-gradient-to-r from-green-400 to-blue-500 hover:from-green-500 hover:to-blue-600 text-white font-bold py-3 px-6 rounded-full font-arabic">
          ğŸš€ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠ
        </button>
        <button onclick="goToMainMenu()" class="bg-purple-500 hover:bg-purple-600 text-white font-bold py-3 px-6 rounded-full font-arabic">
          ğŸ  Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        </button>
        <button onclick="restartGame()" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-full font-arabic">
          ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„
        </button>
      </div>
    </div>
  </div>

  <!-- Ù†Ø§ÙØ°Ø© ÙÙŠØ¯ÙŠÙˆ Ø§Ù„Ù…ÙƒØ§ÙØ£Ø© -->
  <div id="successModal" class="fixed inset-0 bg-black bg-opacity-80 modal-backdrop flex items-center justify-center hidden z-50">
    <div class="bg-white rounded-3xl shadow-2xl p-6 w-full max-w-2xl mx-4 bounce-in">
      <div class="text-center mb-4">
        <div class="text-6xl mb-2">ğŸ‰</div>
        <h2 class="text-3xl font-bold text-gray-800 mb-2 font-arabic">Ù…Ø¨Ø±ÙˆÙƒ! Ø£ÙƒÙ…Ù„Øª Ø§Ù„Ù„Ø¹Ø¨Ø©!</h2>
        <p class="text-lg text-gray-600 font-arabic">Ù„Ù‚Ø¯ ØªØ¹Ù„Ù…Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø±ÙˆÙ! Ø´Ø§Ù‡Ø¯ Ø§Ù„Ù…ÙØ§Ø¬Ø£Ø© ğŸ‘‡</p>
      </div>
      
      <div class="w-full aspect-video mb-6 rounded-2xl overflow-hidden">
        <iframe 
          id="rewardVideo"
          class="w-full h-full" 
          src="" 
          title="ÙÙŠØ¯ÙŠÙˆ Ø§Ù„Ù…ÙƒØ§ÙØ£Ø©" 
          frameborder="0" 
          allow="autoplay; encrypted-media" 
          allowfullscreen>
        </iframe>
      </div>
      
      <div class="flex justify-center space-x-4">
        <button onclick="closeModal()" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-full font-arabic">
          âœ¨ Ø¥ØºÙ„Ø§Ù‚
        </button>
        <button onclick="goToMainMenu()" class="bg-purple-500 hover:bg-purple-600 text-white font-bold py-3 px-6 rounded-full font-arabic">
          ğŸ  Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        </button>
        <button onclick="restartGame()" class="bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-full font-arabic">
          ğŸ”„ Ø§Ù„Ø¹Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰
        </button>
      </div>
    </div>
  </div>

  <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„ØªÙ„ÙˆÙŠÙ† -->
  <div id="coloringModal" class="fixed inset-0 bg-black bg-opacity-80 modal-backdrop flex items-center justify-center hidden z-50">
    <div class="bg-white rounded-3xl shadow-2xl p-6 w-full max-w-4xl mx-4 bounce-in">
      <div class="text-center mb-4">
        <div class="text-6xl mb-2">ğŸ¨</div>
        <h2 id="coloringTitle" class="text-3xl font-bold text-gray-800 mb-2 font-arabic">ÙŠÙ„Ø§ Ù†Ù„ÙˆÙ†!</h2>
        <p class="text-lg text-gray-600 font-arabic">Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ù„ØªÙ„ÙˆÙŠÙ† Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø¬Ù…ÙŠÙ„Ø©!</p>
      </div>
      
      <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØªÙ„ÙˆÙŠÙ† -->
      <div class="bg-gray-100 rounded-2xl p-4 mb-6">
        <div class="relative w-full max-w-2xl mx-auto">
          <img id="coloringImage" src="" alt="ØµÙˆØ±Ø© Ø§Ù„ØªÙ„ÙˆÙŠÙ†" class="w-full h-auto rounded-lg shadow-lg">
          
          <!-- Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªÙ„ÙˆÙŠÙ† -->
          <div class="absolute top-4 right-4 bg-white rounded-lg p-2 shadow-lg">
            <div class="text-sm font-arabic mb-2">Ø§Ø®ØªØ± Ø§Ù„Ù„ÙˆÙ†:</div>
            <div class="grid grid-cols-4 gap-2">
              <div class="w-8 h-8 bg-red-500 rounded-full cursor-pointer hover:scale-110 transition-transform" onclick="selectColor('#ef4444')"></div>
              <div class="w-8 h-8 bg-blue-500 rounded-full cursor-pointer hover:scale-110 transition-transform" onclick="selectColor('#3b82f6')"></div>
              <div class="w-8 h-8 bg-green-500 rounded-full cursor-pointer hover:scale-110 transition-transform" onclick="selectColor('#22c55e')"></div>
              <div class="w-8 h-8 bg-yellow-500 rounded-full cursor-pointer hover:scale-110 transition-transform" onclick="selectColor('#eab308')"></div>
              <div class="w-8 h-8 bg-purple-500 rounded-full cursor-pointer hover:scale-110 transition-transform" onclick="selectColor('#a855f7')"></div>
              <div class="w-8 h-8 bg-pink-500 rounded-full cursor-pointer hover:scale-110 transition-transform" onclick="selectColor('#ec4899')"></div>
              <div class="w-8 h-8 bg-orange-500 rounded-full cursor-pointer hover:scale-110 transition-transform" onclick="selectColor('#f97316')"></div>
              <div class="w-8 h-8 bg-gray-800 rounded-full cursor-pointer hover:scale-110 transition-transform" onclick="selectColor('#1f2937')"></div>
            </div>
          </div>
        </div>
        
        <!-- Ø±Ø³Ø§Ù„Ø© ØªØ´Ø¬ÙŠØ¹ÙŠØ© -->
        <div class="text-center mt-4">
          <p class="text-lg text-gray-600 font-arabic">ğŸŒŸ Ø£Ø¨Ø¯Ø¹ Ø¨Ø£Ù„ÙˆØ§Ù†Ùƒ Ø§Ù„Ø¬Ù…ÙŠÙ„Ø©! ğŸŒŸ</p>
        </div>
      </div>
      
      <div class="flex justify-center space-x-4">
        <button onclick="finishColoring()" class="bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-8 rounded-full font-arabic">
          âœ¨ Ø§Ù†ØªÙ‡ÙŠØª Ù…Ù† Ø§Ù„ØªÙ„ÙˆÙŠÙ†
        </button>
        <button onclick="closeColoringModal()" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-full font-arabic">
          âŒ Ø¥ØºÙ„Ø§Ù‚
        </button>
      </div>
    </div>
  </div>

  <!-- ØªØ­Ù…ÙŠÙ„ Ù…Ù„Ù JavaScript -->
  <script src="main.js"></script>
</body>
</html>    Ù‡Ø°Ø§ Ø§Ù„Ø§Ù†Ø¯ÙˆÙƒØ³ Ù…Ù† Ù…ÙˆÙ‚Ø¹ Ø¨ÙˆÙ„Øª Ù„Ø§Ù†Ù†ÙŠ Ø¨Ù†ÙŠØªÙ‡ Ù…Ù† Ø®Ù„Ø§Ù„Ù‡.... ÙˆÙ‡Ø°Ø§ Ø§Ù„// Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
const arabicLetters = [
  { id: '1', arabic: 'Ø£', name: 'Ø£Ø±Ù†Ø¨', sound: 'alif', color: '#FF6B6B' },
  { id: '2', arabic: 'Ø¨', name: 'Ø¨Ø·Ø©', sound: 'baa', color: '#4ECDC4' },
  { id: '3', arabic: 'Øª', name: 'ØªÙØ§Ø­Ø©', sound: 'taa', color: '#45B7D1' },
  { id: '4', arabic: 'Ø«', name: 'Ø«Ø¹Ù„Ø¨', sound: 'thaa', color: '#96CEB4' },
  { id: '5', arabic: 'Ø¬', name: 'Ø¬Ù…Ù„', sound: 'jeem', color: '#FFEAA7' },
  { id: '6', arabic: 'Ø­', name: 'Ø­ØµØ§Ù†', sound: 'haa', color: '#DDA0DD' },
  { id: '7', arabic: 'Ø®', name: 'Ø®Ø±ÙˆÙ', sound: 'khaa', color: '#98D8C8' },
  { id: '8', arabic: 'Ø¯', name: 'Ø¯Ø¬Ø§Ø¬Ø©', sound: 'dal', color: '#F7DC6F' },
  { id: '9', arabic: 'Ø°', name: 'Ø°Ø¦Ø¨', sound: 'thal', color: '#BB8FCE' },
  { id: '10', arabic: 'Ø±', name: 'Ø±Ù…Ø§Ù†Ø©', sound: 'raa', color: '#85C1E9' },
  { id: '11', arabic: 'Ø²', name: 'Ø²ÙŠØªÙˆÙ†', sound: 'zay', color: '#F8C471' },
  { id: '12', arabic: 'Ø³', name: 'Ø³Ù„Ø­ÙØ§Ø©', sound: 'seen', color: '#82E0AA' },
  { id: '13', arabic: 'Ø´', name: 'Ø´Ø¬Ø±Ø©', sound: 'sheen', color: '#A8E6CF' },
  { id: '14', arabic: 'Øµ', name: 'ØµÙˆØµ', sound: 'saad', color: '#FFD93D' },
  { id: '15', arabic: 'Ø¶', name: 'Ø¶ÙØ¯Ø¹', sound: 'daad', color: '#6BCF7F' },
  { id: '16', arabic: 'Ø·', name: 'Ø·Ø§Ø¦Ø±Ø©', sound: 'taa', color: '#4A90E2' },
  { id: '17', arabic: 'Ø¸', name: 'Ø¸Ø±Ù', sound: 'dhaa', color: '#F5A623' },
  { id: '18', arabic: 'Ø¹', name: 'Ø¹ØµÙÙˆØ±', sound: 'ain', color: '#7ED321' },
  { id: '19', arabic: 'Øº', name: 'ØºØ±Ø§Ø¨', sound: 'ghain', color: '#50E3C2' },
  { id: '20', arabic: 'Ù', name: 'ÙÙŠÙ„', sound: 'faa', color: '#B8E986' },
  { id: '21', arabic: 'Ù‚', name: 'Ù‚Ø±Ø¯', sound: 'qaaf', color: '#D0021B' },
  { id: '22', arabic: 'Ùƒ', name: 'ÙƒØ±Ø©', sound: 'kaaf', color: '#F8E71C' },
  { id: '23', arabic: 'Ù„', name: 'Ù„ÙŠÙ…ÙˆÙ†Ø©', sound: 'laam', color: '#8B572A' },
  { id: '24', arabic: 'Ù…', name: 'Ù…Ø§Ù…Ø§', sound: 'meem', color: '#7B68EE' },
  { id: '25', arabic: 'Ù†', name: 'Ù†Ø§ÙØ°Ø©', sound: 'noon', color: '#417505' },
  { id: '26', arabic: 'Ù‡Ù€', name: 'Ù‡Ø¯ÙŠØ©', sound: 'haa', color: '#BD10E0' },
  { id: '27', arabic: 'Ùˆ', name: 'ÙˆÙ„Ø¯', sound: 'waaw', color: '#9013FE' },
  { id: '28', arabic: 'ÙŠ', name: 'ÙŠØ¯', sound: 'yaa', color: '#50E3C2' },
];

// Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„ØªØªØ¨Ø¹
let totalCorrect = 0;
let totalNeeded = 28; // Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø­Ø§Ù„ÙŠ

const gameLevels = [
  {
    id: 1,
    title: 'Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£ÙˆÙ„ - Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©',
    letters: arabicLetters.slice(0, 10),
    targetCount: 10,
    difficulty: 'easy'
  },
  {
    id: 2,
    title: 'Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø«Ø§Ù†ÙŠ - Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø­Ø±ÙˆÙ',
    letters: arabicLetters.slice(10, 19),
    targetCount: 9,
    difficulty: 'medium'
  },
  {
    id: 3,
    title: 'Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø«Ø§Ù„Ø« - Ø§Ù„ØªØ­Ø¯ÙŠ Ø§Ù„ÙƒØ¨ÙŠØ±',
    letters: arabicLetters.slice(19, 28),
    targetCount: 9,
    difficulty: 'hard'
  }
];

// Ø­Ø§Ù„Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
let gameState = {
  currentLevel: 0,
  score: 0,
  lives: 3,
  completedLetters: [],
  isGameComplete: false,
  showCelebration: false,
  showColoring: false,
  currentColoringImage: null,
};

let dragState = {
  isDragging: false,
  draggedLetter: null,
  dragOffset: { x: 0, y: 0 },
};

// ØµÙˆØ± Ø§Ù„ØªÙ„ÙˆÙŠÙ†
const coloringImages = {
  1: 'https://images.pexels.com/photos/1148998/pexels-photo-1148998.jpeg', // ÙƒÙˆØ§Ù„Ø§ Ù„Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£ÙˆÙ„
  2: 'https://images.pexels.com/photos/326012/pexels-photo-326012.jpeg'   // Ø£Ø±Ù†Ø¨ Ù„Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø«Ø§Ù†ÙŠ
};
// ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
function startGame() {
  document.getElementById('intro').style.display = 'none';
  document.getElementById('gameContainer').classList.remove('hidden');
  loadGame();
}

function goToMainMenu() {
  document.getElementById('gameContainer').classList.add('hidden');
  document.getElementById('intro').style.display = 'flex';
  document.getElementById('celebrationModal').classList.add('hidden');
  document.getElementById('successModal').classList.add('hidden');
}

function goToLevel(levelIndex) {
  if (levelIndex >= 0 && levelIndex < gameLevels.length) {
    gameState.currentLevel = levelIndex;
    gameState.completedLetters = [];
    document.getElementById('celebrationModal').classList.add('hidden');
    loadGame();
  }
}
function restartGame() {
  gameState = {
    currentLevel: 0,
    score: 0,
    lives: 3,
    completedLetters: [],
    isGameComplete: false,
    showCelebration: false,
  };
  
  dragState = {
    isDragging: false,
    draggedLetter: null,
    dragOffset: { x: 0, y: 0 },
  };
  
  totalCorrect = 0;
  
  document.getElementById('celebrationModal').classList.add('hidden');
  document.getElementById('successModal').classList.add('hidden');
  loadGame();
}

function shareGame() {
  const url = window.location.href;
  const text = "ğŸ¨ ØªØ¹Ø§Ù„ Ø§Ù„Ø¹Ø¨ Ù…Ø¹ÙŠ Ù„Ø¹Ø¨Ø© ÙƒÙˆÙƒÙˆ ÙˆØ£ØµØ¯Ù‚Ø§Ø¡ Ø§Ù„Ø­Ø±ÙˆÙ! Ù„Ø¹Ø¨Ø© Ù…Ù…ØªØ¹Ø© Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ğŸ®âœ¨";
  
  if (navigator.share) {
    navigator.share({
      title: 'ÙƒÙˆÙƒÙˆ ÙˆØ£ØµØ¯Ù‚Ø§Ø¡ Ø§Ù„Ø­Ø±ÙˆÙ',
      text: text,
      url: url
    }).catch(console.error);
  } else if (navigator.clipboard) {
    navigator.clipboard.writeText(`${text}\n${url}`).then(() => {
      alert("ØªÙ… Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„Ù„Ø¹Ø¨Ø©! ğŸ‰");
    });
  } else {
    alert(`${text}\n${url}`);
  }
}

function loadGame() {
  const currentLevel = gameLevels[gameState.currentLevel];
  
  if (!currentLevel) {
    showGameComplete();
    return;
  }
  
  // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªÙˆÙ‰
  document.getElementById('levelTitle').textContent = currentLevel.title;
  updateUI();
  
  // ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø­Ø§ÙˆÙŠØ§Øª
  const dropzones = document.getElementById('dropzonesContainer');
  const draggables = document.getElementById('draggablesContainer');
  dropzones.innerHTML = '';
  draggables.innerHTML = '';
  
  // Ø®Ù„Ø· Ø§Ù„Ø­Ø±ÙˆÙ Ù„Ù„Ø³Ø­Ø¨
  const shuffledLetters = [...currentLevel.letters].sort(() => Math.random() - 0.5);
  
  // Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ø¥Ø³Ù‚Ø§Ø· (Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ø£Ø¨Ø¬Ø¯ÙŠ)
  currentLevel.letters.forEach((letter) => {
    const dropZone = createDropZone(letter);
    dropzones.appendChild(dropZone);
  });
  
  // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø³Ø­Ø¨ (Ù…Ø®Ù„ÙˆØ·Ø©)
  shuffledLetters.forEach((letter) => {
    const letterCard = createLetterCard(letter);
    draggables.appendChild(letterCard);
  });
}

function createLetterCard(letter) {
  const card = document.createElement('div');
  card.className = 'letter-card relative cursor-move p-4 rounded-2xl';
  card.draggable = !gameState.completedLetters.includes(letter.id);
  card.style.borderColor = letter.color;
  card.dataset.letterId = letter.id;
  
  if (gameState.completedLetters.includes(letter.id)) {
    card.classList.add('opacity-50', 'cursor-not-allowed');
    card.draggable = false;
  }
  
  card.innerHTML = `
    <div class="text-center">
      <div class="text-6xl arabic-text mb-2" style="color: ${letter.color}">
        ${letter.arabic}
      </div>
      <div class="text-lg font-semibold text-gray-700 font-arabic">
        ${letter.name}
      </div>
      <div class="text-sm text-gray-500 mt-1">
        ${letter.sound}
      </div>
    </div>
    ${gameState.completedLetters.includes(letter.id) ? 
      '<div class="absolute top-2 right-2"><div class="w-6 h-6 bg-green-500 rounded-full flex items-center justify-center"><span class="text-white text-sm">âœ“</span></div></div>' 
      : ''}
  `;
  
  // Ø¥Ø¶Ø§ÙØ© Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø³Ø­Ø¨
  card.addEventListener('dragstart', (e) => handleDragStart(e, letter));
  card.addEventListener('dragend', handleDragEnd);
  
  return card;
}

function createDropZone(letter) {
  const zone = document.createElement('div');
  zone.className = 'drop-zone rounded-2xl p-4 flex items-center justify-center';
  zone.dataset.letterId = letter.id;
  
  const isCompleted = gameState.completedLetters.includes(letter.id);
  
  if (isCompleted) {
    zone.classList.add('correct');
    zone.innerHTML = `
      <div class="text-center celebration-effect">
        <div class="text-8xl arabic-text mb-4" style="color: ${letter.color}">
          ${letter.arabic}
        </div>
        <div class="text-2xl font-bold text-green-600 font-arabic">
          Ø£Ø­Ø³Ù†Øª! ğŸ‰
        </div>
        <div class="text-lg text-gray-600 font-arabic">
          ${letter.name}
        </div>
      </div>
    `;
  } else {
    zone.innerHTML = `
      <div class="text-center">
        <div class="text-6xl text-gray-400 mb-4 arabic-text">
          ${letter.arabic}
        </div>
        <div class="text-lg text-gray-500 font-arabic">
          Ø§Ø³Ø­Ø¨ Ø­Ø±Ù "${letter.name}" Ù‡Ù†Ø§
        </div>
        <div class="text-sm text-gray-400 mt-2">
          ${letter.sound}
        </div>
      </div>
    `;
  }
  
  // Ø¥Ø¶Ø§ÙØ© Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø¥Ø³Ù‚Ø§Ø·
  zone.addEventListener('dragover', (e) => handleDragOver(e, letter));
  zone.addEventListener('dragleave', (e) => handleDragLeave(e, letter));
  zone.addEventListener('drop', (e) => handleDrop(e, letter));
  
  return zone;
}

function handleDragStart(e, letter) {
  if (gameState.completedLetters.includes(letter.id)) {
    e.preventDefault();
    return;
  }
  
  dragState.isDragging = true;
  dragState.draggedLetter = letter;
  
  e.dataTransfer.setData('text/plain', letter.id);
  e.dataTransfer.effectAllowed = 'move';
  
  e.target.classList.add('dragging');
  
  // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø³Ø­Ø¨
  playSound('drag');
}

function handleDragEnd(e) {
  dragState.isDragging = false;
  dragState.draggedLetter = null;
  
  e.target.classList.remove('dragging');
  
  // Ø¥Ø²Ø§Ù„Ø© ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø³Ø­Ø¨ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†Ø§Ø·Ù‚
  document.querySelectorAll('.drop-zone').forEach(zone => {
    zone.classList.remove('drag-over');
  });
}

function handleDragOver(e, targetLetter) {
  e.preventDefault();
  e.dataTransfer.dropEffect = 'move';
  
  if (!gameState.completedLetters.includes(targetLetter.id)) {
    e.target.closest('.drop-zone').classList.add('drag-over');
  }
}

function handleDragLeave(e, targetLetter) {
  e.target.closest('.drop-zone').classList.remove('drag-over');
}

function handleDrop(e, targetLetter) {
  e.preventDefault();
  
  const draggedLetterId = e.dataTransfer.getData('text/plain');
  const isCorrect = draggedLetterId === targetLetter.id;
  const dropZone = e.target.closest('.drop-zone');
  
  dropZone.classList.remove('drag-over');
  
  if (gameState.completedLetters.includes(targetLetter.id)) {
    return; // Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ù…ÙƒØªÙ…Ù„Ø© Ø¨Ø§Ù„ÙØ¹Ù„
  }
  
  if (isCorrect) {
    // Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©
    gameState.completedLetters.push(targetLetter.id);
    gameState.score += 100;
    totalCorrect++;
    
    // ØªØ­Ø¯ÙŠØ« Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¥Ø³Ù‚Ø§Ø·
    dropZone.classList.add('correct');
    dropZone.innerHTML = `
      <div class="text-center celebration-effect">
        <div class="text-8xl arabic-text mb-4" style="color: ${targetLetter.color}">
          ${targetLetter.arabic}
        </div>
        <div class="text-2xl font-bold text-green-600 font-arabic">
          Ø£Ø­Ø³Ù†Øª! ğŸ‰
        </div>
        <div class="text-lg text-gray-600 font-arabic">
          ${targetLetter.name}
        </div>
      </div>
    `;
    
    // ØªØ­Ø¯ÙŠØ« Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø­Ø±Ù
    const letterCard = document.querySelector(`[data-letter-id="${targetLetter.id}"]`);
    if (letterCard) {
      letterCard.classList.add('opacity-50', 'cursor-not-allowed');
      letterCard.draggable = false;
      letterCard.innerHTML += '<div class="absolute top-2 right-2"><div class="w-6 h-6 bg-green-500 rounded-full flex items-center justify-center"><span class="text-white text-sm">âœ“</span></div></div>';
    }
    
    // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„Ù†Ø¬Ø§Ø­
    playSound('success');
    
    // ÙØ­Øµ Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„Ù…Ø³ØªÙˆÙ‰
    const currentLevel = gameLevels[gameState.currentLevel];
    if (gameState.completedLetters.length === currentLevel.targetCount) {
      setTimeout(() => {
        // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£ÙˆÙ„ Ø£Ùˆ Ø§Ù„Ø«Ø§Ù†ÙŠØŒ Ø§Ø¹Ø±Ø¶ Ø§Ù„ØªÙ„ÙˆÙŠÙ†
        if (gameState.currentLevel === 0) {
          showColoringActivity(2); // Coloring Tour (2) Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£ÙˆÙ„
        } else if (gameState.currentLevel === 1) {
          showColoringActivity(1); // Coloring Tour (1) Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø«Ø§Ù†ÙŠ
        } else {
          showCelebration();
        }
      }, 1000);
    }
    
    // ÙØ­Øµ Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„Ù„Ø¹Ø¨Ø©
    if (totalCorrect === totalNeeded) {
      setTimeout(() => {
        showSuccessModal();
      }, 1500);
    }
    
  } else {
    // Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©
    gameState.lives = Math.max(0, gameState.lives - 1);
    
    // ØªØ£Ø«ÙŠØ± Ø¨ØµØ±ÙŠ Ù„Ù„Ø®Ø·Ø£
    dropZone.classList.add('bg-red-200');
    setTimeout(() => {
      dropZone.classList.remove('bg-red-200');
    }, 500);
    
    // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„Ø®Ø·Ø£
    playSound('error');
    
    // ÙØ­Øµ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø£Ø±ÙˆØ§Ø­
    if (gameState.lives === 0) {
      setTimeout(() => {
        alert('Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø£Ø±ÙˆØ§Ø­! Ø³ÙŠØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø©.');
        restartGame();
      }, 500);
    }
  }
  
  updateUI();
}

function updateUI() {
  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ù‚Ø§Ø·
  document.getElementById('scoreDisplay').textContent = gameState.score;
  
  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø±ÙˆØ§Ø­
  const livesDisplay = document.getElementById('livesDisplay');
  livesDisplay.innerHTML = 'â¤ï¸'.repeat(gameState.lives) + 'ğŸ¤'.repeat(3 - gameState.lives);
  
  // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ‚Ø¯Ù…
  const currentLevel = gameLevels[gameState.currentLevel];
  if (currentLevel) {
    document.getElementById('progressDisplay').textContent = 
      `Ø§Ù„ØªÙ‚Ø¯Ù…: ${gameState.completedLetters.length} Ù…Ù† ${currentLevel.targetCount}`;
  }
}

function showCelebration() {
  const currentLevel = gameLevels[gameState.currentLevel];
  const isGameComplete = gameState.currentLevel === gameLevels.length - 1;
  
  document.getElementById('celebrationTitle').textContent = 
    isGameComplete ? 'Ù…Ø¨Ø±ÙˆÙƒ! Ø£ÙƒÙ…Ù„Øª Ø§Ù„Ù„Ø¹Ø¨Ø©! ğŸ‰' : 'Ø£Ø­Ø³Ù†Øª! ğŸŒŸ';
  
  document.getElementById('celebrationMessage').textContent = 
    isGameComplete ? 'Ù„Ù‚Ø¯ Ø£ØªÙ…Ù…Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª Ø¨Ù†Ø¬Ø§Ø­!' : 'Ù„Ù‚Ø¯ Ø£ÙƒÙ…Ù„Øª Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø¨Ù†Ø¬Ø§Ø­!';
  
  document.getElementById('finalScore').textContent = gameState.score;
  
  // Ø¹Ø±Ø¶ Ø§Ù„Ù†Ø¬ÙˆÙ…
  const starsCount = Math.min(5, Math.floor(gameState.score / 100));
  const starsDisplay = document.getElementById('starsDisplay');
  starsDisplay.innerHTML = '';
  
  for (let i = 0; i < 5; i++) {
    const star = document.createElement('span');
    star.className = 'text-2xl';
    star.textContent = i < starsCount ? 'â­' : 'âšª';
    starsDisplay.appendChild(star);
  }
  
  // Ø¥Ø®ÙØ§Ø¡/Ø¥Ø¸Ù‡Ø§Ø± Ø²Ø± Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠ
  const nextBtn = document.getElementById('nextLevelBtn');
  if (isGameComplete) {
    nextBtn.style.display = 'none';
  } else {
    nextBtn.style.display = 'block';
  }
  
  document.getElementById('celebrationModal').classList.remove('hidden');
}

function nextLevel() {
  gameState.currentLevel++;
  gameState.completedLetters = [];
  document.getElementById('celebrationModal').classList.add('hidden');
  loadGame();
}

function showGameComplete() {
  document.getElementById('celebrationTitle').textContent = 'Ù…Ø¨Ø±ÙˆÙƒ! Ø£ÙƒÙ…Ù„Øª Ø§Ù„Ù„Ø¹Ø¨Ø©! ğŸ‰';
  document.getElementById('celebrationMessage').textContent = 'Ù„Ù‚Ø¯ Ø£ØªÙ…Ù…Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª Ø¨Ù†Ø¬Ø§Ø­!';
  document.getElementById('finalScore').textContent = gameState.score;
  document.getElementById('nextLevelBtn').style.display = 'none';
  document.getElementById('celebrationModal').classList.remove('hidden');
}

function showSuccessModal() {
  // ØªØ­Ø¯ÙŠØ¯ Ø±Ø§Ø¨Ø· Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
  const videoUrl = "https://www.youtube.com/embed/MBsYXRytFo8?autoplay=1&rel=0";
  document.getElementById('rewardVideo').src = videoUrl;
  
  document.getElementById('successModal').classList.remove('hidden');
  
  // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„ÙÙˆØ²
  playSound('victory');
}

function showColoringActivity(imageNumber) {
  gameState.showColoring = true;
  gameState.currentColoringImage = imageNumber;
  
  const coloringModal = document.getElementById('coloringModal');
  const coloringImage = document.getElementById('coloringImage');
  const coloringTitle = document.getElementById('coloringTitle');
  
  coloringTitle.textContent = `ÙŠÙ„Ø§ Ù†Ù„ÙˆÙ†! ğŸ¨ Coloring Tour (${imageNumber})`;
  coloringImage.src = coloringImages[imageNumber];
  
  coloringModal.classList.remove('hidden');
  
  // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„ØªÙ„ÙˆÙŠÙ†
  playSound('coloring');
}

function finishColoring() {
  document.getElementById('coloringModal').classList.add('hidden');
  gameState.showColoring = false;
  
  // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠ
  if (gameState.currentLevel < gameLevels.length - 1) {
    gameState.currentLevel++;
    gameState.completedLetters = [];
    loadGame();
  } else {
    // Ø¥Ø°Ø§ Ø§Ù†ØªÙ‡Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª
    showCelebration();
  }
}

function closeModal() {
  document.getElementById('successModal').classList.add('hidden');
  // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
  document.getElementById('rewardVideo').src = '';
}

function closeColoringModal() {
  document.getElementById('coloringModal').classList.add('hidden');
  gameState.showColoring = false;
}

// ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØµÙˆØª
function playSound(type) {
  // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ù…Ù„ÙØ§Øª ØµÙˆØªÙŠØ© Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù‡Ù†Ø§
  console.log(`ğŸµ ØªØ´ØºÙŠÙ„ ØµÙˆØª: ${type}`);
  
  // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø£ØµÙˆØ§Øª Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Web Audio API (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
  if (typeof AudioContext !== 'undefined' || typeof webkitAudioContext !== 'undefined') {
    try {
      const audioContext = new (AudioContext || webkitAudioContext)();
      const oscillator = audioContext.createOscillator();
      const gainNode = audioContext.createGain();
      
      oscillator.connect(gainNode);
      gainNode.connect(audioContext.destination);
      
      // ØªØ­Ø¯ÙŠØ¯ ØªØ±Ø¯Ø¯ Ø§Ù„ØµÙˆØª Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹
      switch(type) {
        case 'success':
          oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime); // C5
          break;
        case 'error':
          oscillator.frequency.setValueAtTime(220, audioContext.currentTime); // A3
          break;
        case 'victory':
          oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime); // E5
          break;
        case 'drag':
          oscillator.frequency.setValueAtTime(440, audioContext.currentTime); // A4
          break;
        case 'coloring':
          oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime); // C5
          break;
        default:
          oscillator.frequency.setValueAtTime(440, audioContext.currentTime);
      }
      
      gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
      
      oscillator.start(audioContext.currentTime);
      oscillator.stop(audioContext.currentTime + 0.3);
    } catch (error) {
      console.log('Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª:', error);
    }
  }
}

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
document.addEventListener('DOMContentLoaded', function() {
  console.log('ğŸ® Ù„Ø¹Ø¨Ø© ÙƒÙˆÙƒÙˆ ÙˆØ£ØµØ¯Ù‚Ø§Ø¡ Ø§Ù„Ø­Ø±ÙˆÙ Ø¬Ø§Ù‡Ø²Ø©!');
  
  // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹Ø§Øª Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
      closeModal();
      closeColoringModal();
    }
  });
});

// ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªÙ„ÙˆÙŠÙ†
let selectedColor = '#ef4444'; // Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ø£Ø­Ù…Ø±

function selectColor(color) {
  selectedColor = color;
  console.log('ØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ÙˆÙ†:', color);
  
  // ØªØ£Ø«ÙŠØ± Ø¨ØµØ±ÙŠ Ù„Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ù…Ø®ØªØ§Ø±
  document.querySelectorAll('.grid div').forEach(colorDiv => {
    colorDiv.classList.remove('ring-4', 'ring-gray-800');
  });
  
  event.target.classList.add('ring-4', 'ring-gray-800');
}

// Ø¥Ø¶Ø§ÙØ© ØªÙØ§Ø¹Ù„ Ø§Ù„ØªÙ„ÙˆÙŠÙ† Ù…Ø¹ Ø§Ù„ØµÙˆØ±Ø© (Ù…Ø­Ø§ÙƒØ§Ø©)
document.addEventListener('click', function(e) {
  if (e.target.id === 'coloringImage' && gameState.showColoring) {
    // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„ØªÙ„ÙˆÙŠÙ† Ø¨Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø¨ØµØ±ÙŠ
    const rect = e.target.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;
    
    // Ø¥Ù†Ø´Ø§Ø¡ Ù†Ù‚Ø·Ø© Ù„ÙˆÙ†
    const colorDot = document.createElement('div');
    colorDot.style.position = 'absolute';
    colorDot.style.left = x + 'px';
    colorDot.style.top = y + 'px';
    colorDot.style.width = '20px';
    colorDot.style.height = '20px';
    colorDot.style.backgroundColor = selectedColor;
    colorDot.style.borderRadius = '50%';
    colorDot.style.pointerEvents = 'none';
    colorDot.style.opacity = '0.7';
    
    e.target.parentElement.appendChild(colorDot);
    
    // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„ØªÙ„ÙˆÙŠÙ†
    playSound('coloring');
  }
});      main.js                                                                                                                            
